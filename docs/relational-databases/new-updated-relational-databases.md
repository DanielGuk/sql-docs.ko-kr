---
title: 업데이트됨 - 관계형 데이터베이스 문서 | Microsoft Docs
description: 관계형 데이터베이스 설명서에서 최근에 변경된 업데이트된 콘텐츠의 일부를 표시합니다.
manager: craigg
author: MightyPen
ms.author: genemi
ms.topic: conceptual
ms.custom: UpdArt.exe
ms.suite: sql
ms.technology: release-landing
ms.prod: sql
ms.prod_service: sql-non-specified
ms.component: relational-databases
ms.date: 04/28/2018
ms.openlocfilehash: 4f962279eb30e15b395f96417cc5e03aa1dbcfad
ms.sourcegitcommit: c8f7e9f05043ac10af8a742153e81ab81aa6a3c3
ms.translationtype: HT
ms.contentlocale: ko-KR
ms.lasthandoff: 07/17/2018
ms.locfileid: "39087775"
---
# <a name="new-and-recently-updated-relational-databases-docs"></a>새로 추가되었거나 최근에 업데이트됨: 관계형 데이터베이스 문서



Microsoft에서는 거의 매일 [Docs.Microsoft.com](http://docs.microsoft.com/) 설명서 웹 사이트에서 기존 문서 일부를 업데이트합니다. 이 문서에는 최근 업데이트된 문서에서 발췌한 내용이 표시됩니다. 새 문서로 연결되는 링크도 나열될 수 있습니다.

이 문서는 주기적으로 다시 실행되는 프로그램에 의해 생성됩니다. 경우에 따라 발췌한 내용의 형식이 완전하지 않거나 원본 문서의 표식(markdown)으로 표시될 수 있습니다. 이미지는 여기에 표시되지 않습니다.

다음 날짜 범위 및 주제에 대한 최근 업데이트가 보고됩니다.



- 업데이트 날짜 범위: &nbsp; **2018-02-03**&nbsp; - &nbsp;**2018-04-28**
- *주제 영역:* &nbsp; **관계형 데이터베이스**




&nbsp;

## <a name="new-articles-created-recently"></a>최근에 만든 새로운 문서

다음 링크는 최근에 추가된 새로운 문서로 이동합니다.


1. [조인(SQL Server)](performance/joins.md)
2. [하위 쿼리(SQL Server)](performance/subqueries.md)
3. [Always On 가용성 그룹에서 복제 배포 데이터베이스 설정](replication/configure-distribution-availability-group.md)
4. [SQL 데이터 검색 및 분류](security/sql-data-discovery-and-classification.md)
5. [트랜잭션 잠금 및 행 버전 관리 지침](sql-server-transaction-locking-and-row-versioning-guide.md)
6. [sys.dm_os_job_object(Azure SQL Database)](system-dynamic-management-views/sys-dm-os-job-object-transact-sql.md)
7. [Filestream 및 FileTable 시스템 저장 프로시저(Transact-SQL)](system-stored-procedures/filestream-and-filetable-system-stored-procedures.md)



&nbsp;

## <a name="updated-articles-with-excerpts"></a>업데이트된 문서의 발췌 내용

이 섹션에는 최근에 많이 업데이트된 문서에서 발췌한 업데이트 내용이 표시됩니다.

여기에 표시된 발췌 내용은 적절한 의미 체계 맥락과 분리되어 표시됩니다. 또한 발췌 내용은 때때로 실제 문서에서 이 내용의 주변에 있는 중요한 markdown 구문과도 분리되어 표시됩니다. 따라서 이러한 발췌 내용은 일반적인 지침을 제공하기 위한 것입니다. 이 발췌 내용에서는 관심 내용을 클릭하여 실제 문서를 참조할 가치가 있을지 여부만 파악할 수 있습니다.

따라서 이러한 발췌 내용에서 코드를 복사하거나 발췌 내용을 정확한 사실로 간주하지 마세요. 대신 실제 문서를 참조하세요.





&nbsp;

<a name="compactupdatedlist"/>

### <a name="compact-list-of-articles-updated-recently"></a>최근 업데이트된 문서의 간결한 목록

이 간결한 목록에는 발췌 섹션에 나열된 모든 업데이트된 문서로 연결되는 링크가 있습니다.

1. [서식 파일을 사용하여 테이블 열 건너뛰기(SQL Server)](#TitleNum_1)
2. [SQL Server의 JSON 데이터](#TitleNum_2)
3. [쿼리 처리 아키텍처 가이드](#TitleNum_3)
4. [자습서: 복제를 위한 SQL Server 준비 - 게시자, 배포자, 구독자](#TitleNum_4)
5. [자습서: 두 개의 완전히 연결된 서버 간 복제 구성(트랜잭션)](#TitleNum_5)
6. [자습서: 서버와 모바일 클라이언트 간 복제 구성(병합)](#TitleNum_6)
7. [전체 텍스트 검색을 사용한 쿼리](#TitleNum_7)
8. [Azure SQL Database 및 데이터 웨어하우스에 대한 Bring Your Own Key 지원으로 투명한 데이터 암호화](#TitleNum_8)
9. [PowerShell 및 CLI: Azure Key Vault에서 사용자 고유 키를 사용하여 투명한 데이터 암호화 사용](#TitleNum_9)
10. [변경 데이터 캡처 정보(SQL Server)](#TitleNum_10)




&nbsp;

&nbsp;

<a name="TitleNum_1"/>

### <a name="1-nbsp-use-a-format-file-to-skip-a-table-column-sql-serverimport-exportuse-a-format-file-to-skip-a-table-column-sql-servermd"></a>1. &nbsp; [서식 파일을 사용하여 테이블 열 건너뛰기(SQL Server)](import-export/use-a-format-file-to-skip-a-table-column-sql-server.md)

*업데이트됨: 2018-04-13* &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;([다음](#TitleNum_2))

<!-- Source markdown line 221.  ms.author= "douglasl".  -->

&nbsp;


<!-- git diff --ignore-all-space --unified=0 167916d79c5de1e7f13990cb7acc41ceb541b9a7 cb92eb201292294e3397879c98f353fba45f1c1c  (PR=0  ,  Filename=use-a-format-file-to-skip-a-table-column-sql-server.md  ,  Dirpath=docs\relational-databases\import-export\  ,  MergeCommitSha40=f70f24bff1677b33c661abd13726f491ce32b305) -->



**OPENROWSET(BULK...) 사용**


`OPENROWSET(BULK...)`를 사용하여 XML 서식 파일로 테이블 열을 건너뛰려면 다음과 같이 선택 목록과 대상 테이블에 명시적인 열 목록을 제공해야 합니다.

```
    INSERT ...<column_list> SELECT <column_list> FROM OPENROWSET(BULK...)
```

다음 예에서는 `OPENROWSET` 대량 행 집합 공급자와 `myTestSkipCol2.xml` 서식 파일을 사용합니다. 또한 `myTestSkipCol2.dat` 데이터 파일을 `myTestSkipCol` 테이블로 대량 가져옵니다. 이 문에는 필요에 따라 SELECT 목록과 대상 테이블의 명시적인 열 목록이 있습니다.

SSMS에서 다음 코드를 실행합니다. 컴퓨터에서 샘플 파일 위치에 대한 파일 시스템 경로를 업데이트합니다.

```
USE WideWorldImporters;
GO
INSERT INTO myTestSkipCol
  (Col1,Col3)
    SELECT Col1,Col3
      FROM  OPENROWSET(BULK  'C:\myTestSkipCol2.Dat',
      FORMATFILE='C:\myTestSkipCol2.Xml'
       ) as t1 ;
GO
```



&nbsp;

&nbsp;

---

<a name="TitleNum_2"/>

### <a name="2-nbsp-json-data-in-sql-serverjsonjson-data-sql-servermd"></a>2. &nbsp; [SQL Server의 JSON 데이터](json/json-data-sql-server.md)

*업데이트됨: 2018-04-13* &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;([이전](#TitleNum_1) | [다음](#TitleNum_3))

<!-- Source markdown line 145.  ms.author= "jovanpop".  -->

&nbsp;


<!-- git diff --ignore-all-space --unified=0 19e276637a463b412f2c29a84f9fb7d0b0f5fcc5 e2f2e8b4732779b3f24561cc0c4da3a958f4edbb  (PR=0  ,  Filename=json-data-sql-server.md  ,  Dirpath=docs\relational-databases\json\  ,  MergeCommitSha40=f70f24bff1677b33c661abd13726f491ce32b305) -->



JSON 문서에는 표준 관계형 열에 직접 매핑할 수 없는 하위 요소 및 계층적 데이터가 있을 수 있습니다. 이 경우 하위 배열과 부모 엔터티를 조인하여 JSON 계층 구조를 평면화할 수 있습니다.

다음 예제에서 배열의 두 번째 개체에는 사람 기술을 나타내는 하위 배열이 있습니다. 모든 하위 개체는 추가 `OPENJSON` 함수 호출을 사용하여 구문 분석할 수 있습니다.

```
DECLARE @json NVARCHAR(MAX)
SET @json =
N'[
       { "id" : 2,"info": { "name": "John", "surname": "Smith" }, "age": 25 },
       { "id" : 5,"info": { "name": "Jane", "surname": "Smith", "skills": ["SQL", "C#", "Azure"] }, "dob": "2005-11-04T12:00:00" }
 ]'

SELECT *
FROM OPENJSON(@json)
  WITH (id int 'strict $.id',
        firstName nvarchar(50) '$.info.name', lastName nvarchar(50) '$.info.surname',
        age int, dateOfBirth datetime2 '$.dob',
    skills nvarchar(max) '$.skills' as json)
    outer apply openjson( a.skills )
                     with ( skill nvarchar(8) '$' ) as b
```
**기술** 배열은 첫 번째 `OPENJSON`에서 원래 JSON 텍스트 조각으로 반환되고 `APPLY` 연산자를 사용하여 다른 `OPENJSON` 함수로 전달됩니다. 두 번째 `OPENJSON` 함수는 JSON 배열을 구분 분석하고 문자열 값을 첫 번째 `OPENJSON`의 결과와 조인될 단일 열 행 집합으로 반환합니다.
이 쿼리의 결과는 다음 표에 표시됩니다.

**결과**

|id|firstName|lastName|age|dateOfBirth|skill|
|--------|---------------|--------------|---------|-----------------|----------|
|2|John|Smith|25|||
|5|Jane|Smith||2005-11-04T12:00:00|SQL|
|5|Jane|Smith||2005-11-04T12:00:00|C#|
|5|Jane|Smith||2005-11-04T12:00:00|Azure|

`OUTER APPLY OPENJSON`은 하위 배열과 첫 번째 수준 엔터티를 조인하고, 결과 집합을 평면화합니다. JOIN으로 인해 모든 기술에 대해 두 번째 행이 반복됩니다.




&nbsp;

&nbsp;

---

<a name="TitleNum_3"/>

### <a name="3-nbsp-query-processing-architecture-guidequery-processing-architecture-guidemd"></a>3. &nbsp; [쿼리 처리 아키텍처 가이드](query-processing-architecture-guide.md)

*업데이트됨: 2018-04-13* &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;([이전](#TitleNum_2) | [다음](#TitleNum_4))

<!-- Source markdown line 34.  ms.author= "jroth".  -->

&nbsp;


<!-- git diff --ignore-all-space --unified=0 96d91b39acdb2f32aaff323e374e92d6f229d241 2c1d2f8585632ada174388399782dc3ed2721dba  (PR=0  ,  Filename=query-processing-architecture-guide.md  ,  Dirpath=docs\relational-databases\  ,  MergeCommitSha40=f70f24bff1677b33c661abd13726f491ce32b305) -->



**논리 연산자 선행 규칙**


문에 논리 연산자가 두 개 이상 사용되면 `NOT`이 가장 먼저 평가되고 다음으로 `AND`, `OR`의 순서로 평가됩니다. 산술 및 비트 연산자는 논리 연산자보다 먼저 처리됩니다. 자세한 내용은 [연산자 우선 순위]를 참조하세요.

다음 예제에서 `AND`가 `OR`보다 우선하므로 제품 모델 21에는 색상 조건이 적용되지만 제품 모델 20에는 적용되지 않습니다.

```
SELECT ProductID, ProductModelID
FROM Production.Product
WHERE ProductModelID = 20 OR ProductModelID = 21
  AND Color = 'Red';
GO
```

`OR`를 먼저 평가하도록 괄호를 추가하면 쿼리의 의미를 변경할 수 있습니다. 다음 쿼리에서는 제품 모델 20 및 21에서 색상이 빨강인 제품만 찾습니다.

```
SELECT ProductID, ProductModelID
FROM Production.Product
WHERE (ProductModelID = 20 OR ProductModelID = 21)
  AND Color = 'Red';
GO
```

꼭 필요한 경우가 아니라도 괄호를 사용하면 쿼리의 가독성을 높이고 연산자 우선 순위로 인한 사소한 실수를 줄일 수 있습니다. 괄호를 사용하더라도 성능에는 거의 영향을 미치지 않습니다. 다음 예제는 첫 번째 예제와 구문적으로는 동일하지만 파악하기가 더 쉽습니다.

```
SELECT ProductID, ProductModelID
FROM Production.Product
WHERE ProductModelID = 20 OR (ProductModelID = 21
  AND Color = 'Red');
GO
```




&nbsp;

&nbsp;

---

<a name="TitleNum_4"/>

### <a name="4-nbsp-tutorial-prepare-sql-server-for-replication---publisher-distributor-subscriberreplicationtutorial-preparing-the-server-for-replicationmd"></a>4. &nbsp; [자습서: 복제를 위한 SQL Server 준비 - 게시자, 배포자, 구독자](replication/tutorial-preparing-the-server-for-replication.md)

*업데이트됨: 2018-04-13* &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;([이전](#TitleNum_3) | [다음](#TitleNum_5))

<!-- Source markdown line 56.  ms.author= "mathoma".  -->

&nbsp;


<!-- git diff --ignore-all-space --unified=0 6e5caedacff193ce79bdd98708ae1b9dc91f0a8f 9f7af4d3f8b1cffd048db2a5b29fc9e6013f5ed2  (PR=0  ,  Filename=tutorial-preparing-the-server-for-replication.md  ,  Dirpath=docs\relational-databases\replication\  ,  MergeCommitSha40=f70f24bff1677b33c661abd13726f491ce32b305) -->



- [SQL Server Management Studio](https://docs.microsoft.com/sql/ssms/download-sql-server-management-studio-ssms)를 설치합니다.
- [SQL Server 2017 Developer Edition](https://www.microsoft.com/sql-server/sql-server-downloads)을 설치합니다.
- [AdventureWorks 샘플 데이터베이스](https://github.com/Microsoft/sql-server-samples/releases)를 다운로드합니다. SSMS에서 데이터베이스를 복원하는 방법에 대한 지침은 [데이터베이스 복원](https://docs.microsoft.com/sql/relational-databases/backup-restore/restore-a-database-backup-using-ssms)을 참조하세요.

>[!NOTE]
> - 두 버전이 넘게 차이 나는 SQL Server 간에는 복제가 지원되지 않습니다. 자세한 내용은 [복제 토폴로지에서 지원되는 SQL 버전](https://blogs.msdn.microsoft.com/repltalk/2016/08/12/suppported-sql-server-versions-in-replication-topology/)을 참조하세요.
> - *{Included-Content-Goes-Here}* 에서는 **sysadmin** 고정 서버 역할의 멤버인 로그인을 사용하여 게시자 및 구독자에 연결해야 합니다. sysadmin 역할에 대한 자세한 내용은 [서버 수준 역할](https://docs.microsoft.com/sql/relational-databases/security/authentication-access/server-level-roles)을 참조하세요.


**이 자습서를 완료하는 데 소요되는 예상 시간: 30분**

**복제용 Windows 계정 만들기**

이 섹션에서는 복제 에이전트를 실행할 Windows 계정을 만듭니다. 다음 에이전트에 대해 로컬 서버에 별도의 Windows 계정을 만듭니다.

|에이전트|위치|계정 이름|
|---------|------------|----------------|
|스냅숏 에이전트|게시자|<*machine_name*>\repl_snapshot|



&nbsp;

&nbsp;

---

<a name="TitleNum_5"/>

### <a name="5-nbsp-tutorial-configure-replication-between-two-fully-connected-servers-transactionalreplicationtutorial-replicating-data-between-continuously-connected-serversmd"></a>5. &nbsp; [자습서: 두 개의 완전히 연결된 서버 간 복제 구성(트랜잭션)](replication/tutorial-replicating-data-between-continuously-connected-servers.md)

*업데이트됨: 2018-04-13* &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;([이전](#TitleNum_4) | [다음](#TitleNum_6))

<!-- Source markdown line 162.  ms.author= "mathoma".  -->

&nbsp;


<!-- git diff --ignore-all-space --unified=0 0d74f984d0ffc01cce0376837e6d94df3c5654d7 4ecf4d724286130927dd43687d6845059af6f9b7  (PR=0  ,  Filename=tutorial-replicating-data-between-continuously-connected-servers.md  ,  Dirpath=docs\relational-databases\replication\  ,  MergeCommitSha40=f70f24bff1677b33c661abd13726f491ce32b305) -->



**트랜잭션 게시에 구독 만들기**

이 섹션에서는 이전에 만든 게시에 구독자를 추가합니다. 이 자습서에서는 원격 구독자(NODE2\SQL2016)를 사용하지만 구독을 게시자에게 로컬로 추가할 수도 있습니다.

**구독을 만들려면**


1.  *{Included-Content-Goes-Here}* 에서 게시자에 연결하고 해당 서버 노드를 확장한 다음 **복제** 폴더를 확장합니다.

2.  **로컬 게시** 폴더에서 **AdvWorksProductTrans** 게시를 마우스 오른쪽 단추로 클릭한 다음, **새 구독**을 선택합니다.  새 구독 마법사가 시작됩니다.

    새 구독

3.  게시 페이지에서 **AdvWorksProductTrans**를 선택한 후, **다음**을 선택합니다.

    Tran 게시자 선택

4.  배포 에이전트 위치 페이지에서 **배포자에서 모든 에이전트 실행**을 선택한 후, **다음**을 선택합니다.  끌어오기 및 밀어넣기 구독에 대한 자세한 내용은 [게시 구독](https://docs.microsoft.com/sql/relational-databases/replication/subscribe-to-publications)을 참조하세요.

    배포자에서 에이전트 실행

5.  구독자 페이지에서 구독자 인스턴스 이름이 표시되지 않는 경우 **구독자 추가**를 선택한 다음, 드롭다운 목록에서 **SQL Server 구독자 추가**를 선택합니다. 그러면 **서버에 연결** 대화 상자가 시작됩니다. 구독자 인스턴스 이름을 입력한 다음, **연결**을 선택합니다.



&nbsp;

&nbsp;

---

<a name="TitleNum_6"/>

### <a name="6-nbsp-tutorial-configure-replication-between-a-server-and-mobile-clients-mergereplicationtutorial-replicating-data-with-mobile-clientsmd"></a>6. &nbsp; [자습서: 서버와 모바일 클라이언트 간의 복제 구성(병합)](replication/tutorial-replicating-data-with-mobile-clients.md)

*업데이트됨: 2018-04-13* &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;([이전](#TitleNum_5) | [다음](#TitleNum_7))

<!-- Source markdown line 93.  ms.author= "mathoma".  -->

&nbsp;


<!-- git diff --ignore-all-space --unified=0 0eed78dfe83c88358c030539a2b25d11ef5ec2d3 79b2a3f32c940fede94b11ad2a3ef8a00b911a39  (PR=0  ,  Filename=tutorial-replicating-data-with-mobile-clients.md  ,  Dirpath=docs\relational-databases\replication\  ,  MergeCommitSha40=f70f24bff1677b33c661abd13726f491ce32b305) -->



Employee 테이블에는 hierarchyid 데이터 형식을 가진 열(OrganizationNode)이 포함되어 있습니다. 이는 SQL 2017의 복제에만 지원됩니다. SQL 2017보다 낮은 빌드를 사용하는 경우, 양방향 복제에서 이 열을 사용할 때 잠재적인 데이터 손실을 알리는 메시지가 화면 맨 아래에 표시됩니다. 이 자습서의 목적상 이 메시지는 무시할 수 있습니다. 그러나 지원되는 빌드를 사용하지 않는 경우 프로덕션 환경에서 이 데이터 형식을 복제해서는 안 됩니다. hierarchyid 데이터 형식을 복제하는 방법에 대한 자세한 내용은 [복제에서 hierarchyid 열 사용](https://docs.microsoft.com/sql/t-sql/data-types/hierarchyid-data-type-method-reference#using-hierarchyid-columns-in-replicated-tables)을 참조하세요.


-  테이블 행 필터링 페이지에서 **추가**를 선택한 다음, **필터 추가**를 선택합니다.

-  **필터 추가** 대화 상자의 **필터링할 테이블 선택**에서 **Employee(HumanResources)** 를 선택합니다. **LoginID** 열을 선택하고, 오른쪽 화살표를 선택하여 필터 쿼리의 WHERE 절에 해당 열을 추가한 후, WHERE 절을 다음과 같이 수정합니다.

    ```
    WHERE [LoginID] = HOST_NAME()
    ```

    1. **이 테이블의 행을 단일 구독으로 이동**을 선택하고 **확인**을 선택합니다.

    필터 추가



- **테이블 행 필터링** 페이지에서 **Employee(Human Resources)** 를 선택하고 **추가**를 선택한 다음, **선택한 필터 확장을 위해 조인 추가**를 선택합니다.

    1. **조인 추가** 대화 상자의 **조인된 테이블**에서 **Sales.SalesOrderHeader**를 선택합니다. **수동으로 조인 문 작성**을 선택하고, 다음과 같이 조인 문을 완성합니다.



&nbsp;

&nbsp;

---

<a name="TitleNum_7"/>

### <a name="7-nbsp-query-with-full-text-searchsearchquery-with-full-text-searchmd"></a>7. &nbsp; [전체 텍스트 검색을 사용한 쿼리](search/query-with-full-text-search.md)

*업데이트됨: 2018-04-13* &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;([이전](#TitleNum_6) | [다음](#TitleNum_8))

<!-- Source markdown line 247.  ms.author= "douglasl".  -->

&nbsp;


<!-- git diff --ignore-all-space --unified=0 5ec67b56aa0a6eadadbcfa8b73b6726e75eca2bb 4eb108b202d3dd035a312bac7872cf02bcf31cfa  (PR=0  ,  Filename=query-with-full-text-search.md  ,  Dirpath=docs\relational-databases\search\  ,  MergeCommitSha40=f70f24bff1677b33c661abd13726f491ce32b305) -->



**생성 단어 검색에 대한 자세한 정보**


*굴절형*은 동사의 여러 시제 및 변화와 명사의 단수형 및 복수형을 의미합니다.

예를 들어 "drive"라는 단어의 굴절형을 검색한다고 가정합니다. 테이블의 여러 행에 "drive", "drives", "drove", "driving", "driven" 등의 단어가 포함되어 있는 경우 이러한 각 단어는 drive라는 단어를 활용하여 생성된 것이므로 모두 결과 집합에 포함됩니다.

[FREETEXT] 및 [FREETEXTTABLE] 은 기본적으로 지정된 모든 단어의 굴절형을 검색합니다. [CONTAINS] 및 [CONTAINSTABLE]은 선택적 `INFLECTIONAL` 인수를 지원합니다.

**특정 단어의 동의어 검색**


*동의어 사전*은 단어에 대한 사용자 지정 동의어를 정의합니다. 동의어 사전 파일에 대한 자세한 내용은 [전체 텍스트 검색에 사용할 동의어 사전 파일 구성 및 관리]를 참조하세요.

예를 들어 동의어 사전에 "{car, automobile, truck, van}" 항목을 추가하면 "car"라는 단어의 동의어 형태를 검색할 수 있습니다. "automobile", "truck", "van" 또는 "car"라는 단어는 각각 "car"라는 단어를 포함하는 동의어 확장 집합에 속하므로 이러한 단어를 포함하는 쿼리된 테이블의 모든 행이 결과 집합에 나타납니다.

[FREETEXT] 및 [FREETEXTTABLE] 에는 기본적으로 동의어 사전이 사용됩니다. [CONTAINS] 및 [CONTAINSTABLE]은 선택적 `THESAURUS` 인수를 지원합니다.



&nbsp;

&nbsp;

---

<a name="TitleNum_8"/>

### <a name="8-nbsp-transparent-data-encryption-with-bring-your-own-key-support-for-azure-sql-database-and-data-warehousesecurityencryptiontransparent-data-encryption-byok-azure-sqlmd"></a>8. &nbsp; [Azure SQL Database 및 데이터 웨어하우스에 대한 Bring Your Own Key 지원으로 투명한 데이터 암호화](security/encryption/transparent-data-encryption-byok-azure-sql.md)

*업데이트됨: 2018-04-24* &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;([이전](#TitleNum_7) | [다음](#TitleNum_9))

<!-- Source markdown line 110.  ms.author= "aliceku".  -->

&nbsp;


<!-- git diff --ignore-all-space --unified=0 9527658848d430bf0148be84474a75b232cbd112 70ed2a129c580962384f808e8526673957f00d2c  (PR=5662  ,  Filename=transparent-data-encryption-byok-azure-sql.md  ,  Dirpath=docs\relational-databases\security\encryption\  ,  MergeCommitSha40=91a9c812739a1c9a6ec9e7b8cda71ee1f5adae3d) -->



**Azure Key Vault로 Geo-DR을 구성하는 방법**


암호화된 데이터베이스에서 TDE 보호기의 고가용성을 유지하려면 기존 또는 원하는 SQL Database 장애 조치(failover) 그룹이나 활성 지역 복제 인스턴스를 기반으로 중복 Azure Key Vault를 구성해야 합니다.  지리적으로 복제된 각 서버에는 별도의 키 자격 증명 모음이 필요하며 동일한 Azure 지역의 서버와 함께 배치해야 합니다. 한 지역의 정전으로 인해 기본 데이터베이스에 액세스할 수 없게 되어 장애 조치(failover)가 트리거되면, 보조 데이터베이스가 보조 키 자격 증명 모음을 사용하여 인수할 수 있습니다.

지리적으로 복제된 Azure SQL Databases의 경우 다음 Azure Key Vault 구성이 필요합니다.
- 지역에서 키 자격 증명 모음을 사용하는 하나의 기본 데이터베이스, 지역에서 키 자격 증명 모음을 사용하는 하나의 보조 데이터베이스.
- 보조 데이터베이스가 하나 이상 필요하며 최대 4개의 보조 데이터베이스가 지원됩니다.
- 보조의 보조(체인)는 지원되지 않습니다.

다음 섹션에서는 설치 및 구성 단계를 자세히 살펴봅니다.

**Azure Key Vault 구성 단계**


- [PowerShell](https://docs.microsoft.com/powershell/azure/install-azurerm-ps?view=azurermps-5.6.0) 설치
- [“soft-delete” 속성을 활성화하는 PowerShell](https://docs.microsoft.com/azure/key-vault/key-vault-soft-delete-powershell)을 사용하여 다른 두 지역에 두 개의 Azure Key Vault를 만듭니다(이 옵션은 아직 AKV 포털에서 사용할 수 없으나 SQL에서 필요함).
- 키 백업과 복원이 작동하려면 두 Azure Key Vault 모두 동일한 Azure Geo에서 제공되는 두 지역에 있어야 합니다.  SQL Geo-DR 요구 사항에 부합하기 위해 두 자격 증명 모음이 서로 다른 지역에 있어야 하는 경우 키를 온-프레미스 HSM에서 가져올 수 있는 [BYOK 프로세스가](https://docs.microsoft.com/azure/key-vault/key-vault-hsm-protected-keys)를 따릅니다.



&nbsp;

&nbsp;

---

<a name="TitleNum_9"/>

### <a name="9-nbsp-powershell-and-cli-enable-transparent-data-encryption-using-your-own-key-from-azure-key-vaultsecurityencryptiontransparent-data-encryption-byok-azure-sql-configuremd"></a>9. &nbsp; [PowerShell 및 CLI: Azure Key Vault에서 사용자 고유 키를 사용하여 투명한 데이터 암호화 사용](security/encryption/transparent-data-encryption-byok-azure-sql-configure.md)

*업데이트됨: 2018-04-24* &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;([이전](#TitleNum_8) | [다음](#TitleNum_10))

<!-- Source markdown line 196.  ms.author= "aliceku".  -->

&nbsp;


<!-- git diff --ignore-all-space --unified=0 a0e00f5701d9a493f503a477c69097ce65aba174 721e8fb856a55ee1e8e9e7fc06036a03adab647b  (PR=5662  ,  Filename=transparent-data-encryption-byok-azure-sql-configure.md  ,  Dirpath=docs\relational-databases\security\encryption\  ,  MergeCommitSha40=91a9c812739a1c9a6ec9e7b8cda71ee1f5adae3d) -->



**CLI에 대한 필수 구성 요소**


- Azure 구독이 있고 해당 구독의 관리자여야 합니다.
- [권장되지만 선택 사항임] TDE 보호기 키 자료의 로컬 복사본을 만들기 위해 HSM(하드웨어 보안 모듈) 또는 로컬 키 저장소를 포함합니다.
- 명령줄 인터페이스 버전 2.0 이상입니다. 최신 버전을 설치하고 Azure 구독에 연결하려면 [Azure 플랫폼 간 명령줄 인터페이스 2.0 설치 및 구성](https://docs.microsoft.com/cli/azure/install-azure-cli?view=azure-cli-latest)을 참조하세요.
- TDE에 사용할 Azure Key Vault 및 키를 만듭니다.
   - [CLI 2.0을 사용하여 Key Vault 관리](https://docs.microsoft.com/azure/key-vault/key-vault-manage-with-cli2)
   - [HSM(하드웨어 보안 모듈) 및 Key Vault 사용에 대한 지침](https://docs.microsoft.com/azure/key-vault/key-vault-get-started#a-idhsmaif-you-want-to-use-a-hardware-security-module-hsm)
 - 키 자격 증명 모음은 TDE에 사용할 다음과 같은 속성을 포함해야 합니다.
   - [일시 삭제](https://docs.microsoft.com/azure/key-vault/key-vault-ovw-soft-delete)
   - [CLI를 사용한 키 자격 증명 모음 일시 삭제를 사용하는 방법](https://docs.microsoft.com/azure/key-vault/key-vault-soft-delete-cli)
- 키는 TDE에 사용할 다음과 같은 특성을 포함해야 합니다.
   - 만료 날짜 없음
   - 비활성화되지 않음
   - *가져오기*, *키 래핑*, *키 래핑 해제* 작업을 수행할 수 있습니다.

**단계: 서버 만들기 및 서버에 Azure AD ID 할당**

      cli
      # create server (with identity) and database



&nbsp;

&nbsp;

---

<a name="TitleNum_10"/>

### <a name="10-nbsp-about-change-data-capture-sql-servertrack-changesabout-change-data-capture-sql-servermd"></a>10. &nbsp; [변경 데이터 캡처 정보(SQL Server)](track-changes/about-change-data-capture-sql-server.md)

*업데이트됨: 2018-04-17* &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;([이전](#TitleNum_9))

<!-- Source markdown line 112.  ms.author= "jroth".  -->

&nbsp;


<!-- git diff --ignore-all-space --unified=0 588bff652adefd719e799e9777a416b70184c5f8 77ebdbb1b98b24054d5c5afbb3f1d40e94d1e6bc  (PR=5574  ,  Filename=about-change-data-capture-sql-server.md  ,  Dirpath=docs\relational-databases\track-changes\  ,  MergeCommitSha40=bb044a48a6af9b9d8edb178dc8c8bd5658b9ff68) -->



**데이터베이스 및 테이블 데이터 정렬 차이 처리**


데이터베이스와, 변경 데이터 캡처에 대해 구성된 테이블 열 간의 데이터 정렬이 다른 상황을 인지하는 것이 중요합니다. CDC에서는 중간 저장소를 사용하여 측면 테이블을 채웁니다. 테이블에 데이터베이스 데이터 정렬과는 다른 데이터 정렬이 있는 CHAR 또는 VARCHAR가 있고 이러한 열이 비 ASCII 문자(예: 더블바이트 DBCS 문자)를 저장할 경우, CDC는 변경된 데이터를 기본 테이블의 데이터에 일관되게 유지하지 못할 수 있습니다. 이것은 중간 저장소 변수가 연결된 데이터 정렬을 가질 수 없기 때문에 발생합니다.

기본 테이블과 변경 캡처 데이터 간의 일관성을 유지하기 위해 다음 방법 중 하나를 고려합니다.

- 비 ASCII 데이터를 포함하는 열에 NCHAR 또는 NVARCHAR 데이터 형식을 사용합니다.

- 또는 열 및 데이터베이스에 동일한 데이터 정렬을 사용합니다.

예를 들어 SQL_Latin1_General_CP1_CI_AS 데이터 정렬을 사용하는 하나의 데이터베이스가 있다면 다음 테이블을 고려합니다.

```
CREATE TABLE T1(
     C1 INT PRIMARY KEY,
     C2 VARCHAR(10) collate Chinese_PRC_CI_AI)
```

데이터 정렬이 다르기 때문에(Chinese_PRC_CI_AI) CDC는 열 C2에 대한 이진 데이터를 캡처하지 못할 수 있습니다. 이 문제를 방지하기 위해 NVARCHAR를 사용합니다.

```
CREATE TABLE T1(
     C1 INT PRIMARY KEY,
     C2 NVARCHAR(10) collate Chinese_PRC_CI_AI --Unicode data type, CDC works well with this data type)
```







## <a name="similar-articles-about-new-or-updated-articles"></a>신규 문서 또는 업데이트된 문서에 대한 유사 문서

이 섹션에는 공용 GitHub.com 리포지토리 내의 다른 주제 영역에서 최근에 업데이트된 문서와 유사한 문서가 나와 있습니다. [MicrosoftDocs/sql-docs](https://github.com/MicrosoftDocs/sql-docs/)



#### <a name="subject-areas-that-do-have-new-or-recently-updated-articles"></a>새로 추가되었거나 최근에 업데이트된 문서가 *있는* 주제 영역

- [새로 추가되었거나 업데이트됨(11+6):&nbsp; &nbsp;**SQL용 고급 분석** 문서](../advanced-analytics/new-updated-advanced-analytics.md)
- [새로 추가되었거나 업데이트됨(18+0): &nbsp; &nbsp;**SQL용 Analysis Services** 문서](../analysis-services/new-updated-analysis-services.md)
- [새로 추가되었거나 업데이트됨(218+14):  **SQL에 연결** 문서](../connect/new-updated-connect.md)
- [새로 추가되었거나 업데이트됨(14+0): &nbsp; &nbsp;**SQL용 데이터베이스 엔진** 문서](../database-engine/new-updated-database-engine.md)
- [새로 추가되었거나 업데이트됨(3+2): &nbsp; &nbsp; **SQL용 Integration Services** 문서](../integration-services/new-updated-integration-services.md)
- [새로 추가되었거나 업데이트됨(3+3): &nbsp; &nbsp; **SQL용 Linux** 문서](../linux/new-updated-linux.md)
- [새로 추가되었거나 업데이트됨(7+10): &nbsp; &nbsp;**SQL용 관계형 데이터베이스** 문서](../relational-databases/new-updated-relational-databases.md)
- [새로 추가되었거나 업데이트됨(0+2): &nbsp; &nbsp; **SQL용 Reporting Services** 문서](../reporting-services/new-updated-reporting-services.md)
- [새로 추가되었거나 업데이트됨(1+3): &nbsp; &nbsp; **SQL Operations Studio** 문서](../sql-operations-studio/new-updated-sql-operations-studio.md)
- [새로 추가되었거나 업데이트됨(2+3): &nbsp; &nbsp; **Microsoft SQL Server** 문서](../sql-server/new-updated-sql-server.md)
- [새로 추가되었거나 업데이트됨(1+1): &nbsp; &nbsp; **SSDT(SQL Server Data Tools)** 문서](../ssdt/new-updated-ssdt.md)
- [새로 추가되었거나 업데이트됨(5+2): &nbsp; &nbsp; **SSMS(SQL Server Management Studio)** 문서](../ssms/new-updated-ssms.md)
- [새로 추가되었거나 업데이트됨(0+2): &nbsp; &nbsp; **Transact-SQL** 문서](../t-sql/new-updated-t-sql.md)
- [새로 추가되었거나 업데이트됨(1+1): &nbsp; &nbsp; **SQL용 도구** 문서](../tools/new-updated-tools.md)



#### <a name="subject-areas-that-do-not-have-any-new-or-recently-updated-articles"></a>새로 추가되었거나 최근에 업데이트된 문서가 *없는* 주제 영역

- [새로 추가되었거나 업데이트됨(0+0): **SQL용 분석 플랫폼 시스템** 문서](../analytics-platform-system/new-updated-analytics-platform-system.md)
- [새로 추가되었거나 업데이트됨(0+0): **SQL용 Data Quality Services** 문서](../data-quality-services/new-updated-data-quality-services.md)
- [새로 추가되었거나 업데이트됨(0+0): **SQL용 DMX(Data Mining Extension)** 문서](../dmx/new-updated-dmx.md)
- [새로 추가되었거나 업데이트됨(0+0): **SQL용 MDS(Master Data Services)** 문서](../master-data-services/new-updated-master-data-services.md)
- [새로 추가되었거나 업데이트됨(0+0): **SQL용 MDX(Multidimensional Expression)** 문서](../mdx/new-updated-mdx.md)
- [새로 추가되었거나 업데이트됨(0+0): **SQL용 ODBC(Open Database Connectivity)** 문서](../odbc/new-updated-odbc.md)
- [새로 추가되었거나 업데이트됨(0+0): **SQL용 PowerShell** 문서](../powershell/new-updated-powershell.md)
- [새로 추가되었거나 업데이트됨(0+0): **SQL용 샘플** 문서](../samples/new-updated-samples.md)
- [새로 추가되었거나 업데이트됨(0+0): **SSMA(SQL Server Migration Assistant)** 문서](../ssma/new-updated-ssma.md)
- [새로 추가되었거나 업데이트됨(0+0): **SQL용 XQuery** 문서](../xquery/new-updated-xquery.md)

